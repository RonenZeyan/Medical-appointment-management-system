<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    >
    <title>Document</title>
    <!-- Bootstrap icons -->
    <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    >

    <!-- CSS LINKS -->
    <link
        rel="stylesheet"
        href="../../styles.css"
    >
    <link
        rel="stylesheet"
        href="../dashboard.css"
    >
    <link
        rel="stylesheet"
        href="../table.css"
    >
</head>

<body>
    <main>
        <h1>Dashboard</h1>
        <section id="dashboard">
            <aside id="dashboard-sidebar">
                <h3>Admin Dashboard</h3>
<<<<<<< HEAD

=======
>>>>>>> dc81c3e (add js files)
                <ul style="border-top: 3px solid var(--background-primary-color)">
                    <li class="active"><a href="#dashboard">dashboard</a></li>
                    <li><a href="#appointment"><i class="bi bi-calendar-heart"></i> Appointments</a></li>
                    <li><a href="#users"><i class="bi bi-people"></i> Users</a></li>
                    <li><a href="#users"><i class="bi bi-person-add"></i> Add New User</a></li>
                    <li><a href="#clinics"><i class="bi bi-building"></i> clinics</a></li>
                    <li><a href="#add"><i class="bi bi-building-add"></i> Add New Clinic</a></li>
                    <li><a href="#medicalField"><i class="bi bi-file"></i> Medical Field</a></li>
                    <li><a href="#add"><i class="bi bi-file-plus"></i> Add New MedicalField</a></li>
                </ul>
            </aside>
            <div id="dashboard-content">
                <h1 style="text-align: center;">תחום רפואי</h1>
                <section class="table-section">
                    <table>
                        <thead>
                            <tr>
                                <th>שם תחום</th>
                                <th>תיאור</th>
                                <th>פעולות</th>
                            </tr>
                        </thead>
                        <tbody id="mdfield-table-body">
                            <tr>
                                <td>צאט גיפיטי</td>
                                <td>chatgpt@email.com</td>
                                <td>
                                    <button class="more-btn">More...</button>
                                    <button class="delete-btn">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>צאט גיפיטי</td>
                                <td>chatgpt@email.com</td>
                                <td>
                                    <button class="more-btn">More...</button>
                                    <button class="delete-btn">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>צאט גיפיטי</td>
                                <td>chatgpt@email.com</td>
                                <td>
                                    <button class="more-btn">More...</button>
                                    <button class="delete-btn">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>צאט גיפיטי</td>
                                <td>chatgpt@email.com</td>
                                <td>
                                    <button class="more-btn">More...</button>
                                    <button class="delete-btn">Delete</button>
                                </td>
                            </tr>
                            <tr>
                                <td>צאט גיפיטי</td>
                                <td>chatgpt@email.com</td>
                                <td>
                                    <button class="more-btn">More...</button>
                                    <button class="delete-btn">Delete</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
<<<<<<< HEAD

=======
>>>>>>> dc81c3e (add js files)
                </section>
            </div>
        </section>
    </main>

    <script>
        //get widgets and set vars
        let md_fields_table_body = document.getElementById("mdfield-table-body");

        //onload of page
        window.addEventListener("load", () => {
            fetchMedicalFields();
        })

        //functions 
        async function fetchMedicalFields() {
            try {
                let res = await fetch("http://localhost:3000/api/medicalfield");
                if (!res.ok) {
                    throw new Error("Failed to fetch medical fields");
                }
                let md_fields = await res.json();
                console.log(md_fields);

                //set data in table
                md_fields_table_body.innerHTML = "";

                md_fields.forEach(md_field => {
                    md_fields_table_body.innerHTML += `
                        <tr>
                            <td>${md_field.name}</td>
                            <td>${md_field.description}</td>
                            <td>
                                    <button class="more-btn">More...</button>
                                    <button class="more-btn">Update</button>
                                    <button class="delete-btn">Delete</button>
                            </td>
                        </tr>
                    `
                });


            } catch (error) {
                console.error("Error fetching doctors:", error);
            }
        }
    </script>
<<<<<<< HEAD

=======
>>>>>>> dc81c3e (add js files)
</body>

</html>